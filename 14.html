<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Buon San Valentino</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(165deg, #fef1f3 0%, #fdf6f0 30%, #faf0f4 60%, #f5eef8 100%);
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }

        /* Subtle warm radial glow behind bouquet */
        body::before {
            content: '';
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80vw;
            height: 80vw;
            max-width: 600px;
            max-height: 600px;
            background: radial-gradient(circle, rgba(244,184,193,0.18) 0%, rgba(244,184,193,0) 70%);
            pointer-events: none;
            z-index: 0;
        }

        .scene {
            position: relative;
            width: clamp(340px, 92vw, 520px);
            height: clamp(520px, 85vh, 780px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            z-index: 1;
        }

        /* ── Bouquet area ── */
        .bouquet {
            position: relative;
            width: 100%;
            height: 75%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        /* ── Vase / Wrapper ── */
        .vase {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            opacity: 0;
            animation: vaseAppear 1s cubic-bezier(0.34, 1.2, 0.64, 1) 4.2s forwards;
        }

        .vase-svg {
            width: clamp(160px, 44vw, 240px);
            height: auto;
            display: block;
            filter: drop-shadow(0 6px 20px rgba(160, 120, 100, 0.18));
        }

        /* ── Individual flower ── */
        .flower {
            position: absolute;
            bottom: clamp(52px, 12vw, 82px);
            display: flex;
            flex-direction: column;
            align-items: center;
            transform-origin: bottom center;
        }

        /* ── Stems ── */
        .stem {
            width: clamp(3px, 0.7vw, 4px);
            background: linear-gradient(to top, #a8d5a2, #8ec586);
            border-radius: 2px;
            transform-origin: bottom center;
            transform: scaleY(0);
        }

        .leaf {
            position: absolute;
            width: clamp(16px, 4vw, 24px);
            height: clamp(9px, 2.2vw, 14px);
            background: #a8d5a2;
            border-radius: 50% 50% 50% 0;
            opacity: 0;
        }

        .leaf-left {
            left: -14px;
            transform: rotate(-30deg);
        }

        .leaf-right {
            right: -14px;
            transform: rotate(30deg) scaleX(-1);
        }

        /* ── Rose ── */
        .rose-head {
            position: relative;
            transform: scale(0);
        }

        .rose-petal {
            position: absolute;
            border-radius: 50%;
        }

        /* Rose color variants */
        .rose-pink .rose-petal:nth-child(1) { width: 62%; height: 62%; top: 3%; left: 19%; background: #f2a3b0; }
        .rose-pink .rose-petal:nth-child(2) { width: 55%; height: 52%; top: 18%; left: 3%; background: #f7c5cf; border-radius: 50% 30% 50% 50%; }
        .rose-pink .rose-petal:nth-child(3) { width: 55%; height: 52%; top: 18%; right: 3%; left: auto; background: #f7c5cf; border-radius: 30% 50% 50% 50%; }
        .rose-pink .rose-petal:nth-child(4) { width: 52%; height: 56%; bottom: 3%; top: auto; left: 24%; background: #f9d4db; border-radius: 50% 50% 40% 40%; }
        .rose-pink .rose-petal:nth-child(5) { width: 36%; height: 36%; top: 28%; left: 32%; background: #eda4b2; border-radius: 50%; }
        .rose-pink .rose-petal:nth-child(6) { width: 70%; height: 48%; top: 10%; left: 15%; background: #fce0e5; border-radius: 50% 50% 40% 40%; opacity: 0.5; }

        .rose-coral .rose-petal:nth-child(1) { width: 62%; height: 62%; top: 3%; left: 19%; background: #e8a89e; }
        .rose-coral .rose-petal:nth-child(2) { width: 55%; height: 52%; top: 18%; left: 3%; background: #f0c4bd; border-radius: 50% 30% 50% 50%; }
        .rose-coral .rose-petal:nth-child(3) { width: 55%; height: 52%; top: 18%; right: 3%; left: auto; background: #f0c4bd; border-radius: 30% 50% 50% 50%; }
        .rose-coral .rose-petal:nth-child(4) { width: 52%; height: 56%; bottom: 3%; top: auto; left: 24%; background: #f5d8d3; border-radius: 50% 50% 40% 40%; }
        .rose-coral .rose-petal:nth-child(5) { width: 36%; height: 36%; top: 28%; left: 32%; background: #d99890; border-radius: 50%; }
        .rose-coral .rose-petal:nth-child(6) { width: 70%; height: 48%; top: 10%; left: 15%; background: #f8e6e2; border-radius: 50% 50% 40% 40%; opacity: 0.5; }

        .rose-blush .rose-petal:nth-child(1) { width: 62%; height: 62%; top: 3%; left: 19%; background: #e8b4c0; }
        .rose-blush .rose-petal:nth-child(2) { width: 55%; height: 52%; top: 18%; left: 3%; background: #f0cdd5; border-radius: 50% 30% 50% 50%; }
        .rose-blush .rose-petal:nth-child(3) { width: 55%; height: 52%; top: 18%; right: 3%; left: auto; background: #f0cdd5; border-radius: 30% 50% 50% 50%; }
        .rose-blush .rose-petal:nth-child(4) { width: 52%; height: 56%; bottom: 3%; top: auto; left: 24%; background: #f5dde3; border-radius: 50% 50% 40% 40%; }
        .rose-blush .rose-petal:nth-child(5) { width: 36%; height: 36%; top: 28%; left: 32%; background: #d4a0ad; border-radius: 50%; }
        .rose-blush .rose-petal:nth-child(6) { width: 70%; height: 48%; top: 10%; left: 15%; background: #fae8ec; border-radius: 50% 50% 40% 40%; opacity: 0.5; }

        /* ── Carnation ── */
        .carnation-head {
            position: relative;
            transform: scale(0);
        }

        .carnation-petal {
            position: absolute;
            border-radius: 50% 50% 20% 20%;
        }

        .carn-lavender .carnation-petal:nth-child(1) { width: 40%; height: 58%; top: 0; left: 30%; background: #c9a8d8; }
        .carn-lavender .carnation-petal:nth-child(2) { width: 38%; height: 52%; top: 4%; left: 6%; transform: rotate(-15deg); background: #dcc4e8; }
        .carn-lavender .carnation-petal:nth-child(3) { width: 38%; height: 52%; top: 4%; right: 6%; left: auto; transform: rotate(15deg); background: #dcc4e8; }
        .carn-lavender .carnation-petal:nth-child(4) { width: 34%; height: 48%; top: 8%; left: -2%; transform: rotate(-28deg); background: #e6d4ef; }
        .carn-lavender .carnation-petal:nth-child(5) { width: 34%; height: 48%; top: 8%; right: -2%; left: auto; transform: rotate(28deg); background: #e6d4ef; }
        .carn-lavender .carnation-petal:nth-child(6) { width: 28%; height: 28%; top: 18%; left: 36%; background: #bb96cc; border-radius: 50%; }
        .carn-lavender .carnation-petal:nth-child(7) { width: 44%; height: 40%; top: -5%; left: 28%; background: #d4b8e0; border-radius: 50% 50% 30% 30%; }

        .carn-pink .carnation-petal:nth-child(1) { width: 40%; height: 58%; top: 0; left: 30%; background: #e8a8b8; }
        .carn-pink .carnation-petal:nth-child(2) { width: 38%; height: 52%; top: 4%; left: 6%; transform: rotate(-15deg); background: #f0c0cc; }
        .carn-pink .carnation-petal:nth-child(3) { width: 38%; height: 52%; top: 4%; right: 6%; left: auto; transform: rotate(15deg); background: #f0c0cc; }
        .carn-pink .carnation-petal:nth-child(4) { width: 34%; height: 48%; top: 8%; left: -2%; transform: rotate(-28deg); background: #f5d4dc; }
        .carn-pink .carnation-petal:nth-child(5) { width: 34%; height: 48%; top: 8%; right: -2%; left: auto; transform: rotate(28deg); background: #f5d4dc; }
        .carn-pink .carnation-petal:nth-child(6) { width: 28%; height: 28%; top: 18%; left: 36%; background: #d4899c; border-radius: 50%; }
        .carn-pink .carnation-petal:nth-child(7) { width: 44%; height: 40%; top: -5%; left: 28%; background: #ebb0c0; border-radius: 50% 50% 30% 30%; }

        .carn-cream .carnation-petal:nth-child(1) { width: 40%; height: 58%; top: 0; left: 30%; background: #f0dcc8; }
        .carn-cream .carnation-petal:nth-child(2) { width: 38%; height: 52%; top: 4%; left: 6%; transform: rotate(-15deg); background: #f5e6d8; }
        .carn-cream .carnation-petal:nth-child(3) { width: 38%; height: 52%; top: 4%; right: 6%; left: auto; transform: rotate(15deg); background: #f5e6d8; }
        .carn-cream .carnation-petal:nth-child(4) { width: 34%; height: 48%; top: 8%; left: -2%; transform: rotate(-28deg); background: #f8ede2; }
        .carn-cream .carnation-petal:nth-child(5) { width: 34%; height: 48%; top: 8%; right: -2%; left: auto; transform: rotate(28deg); background: #f8ede2; }
        .carn-cream .carnation-petal:nth-child(6) { width: 28%; height: 28%; top: 18%; left: 36%; background: #d8c0a8; border-radius: 50%; }
        .carn-cream .carnation-petal:nth-child(7) { width: 44%; height: 40%; top: -5%; left: 28%; background: #f2dfd0; border-radius: 50% 50% 30% 30%; }

        /* ── Sunflower ── */
        .sunflower-head {
            position: relative;
            transform: scale(0);
        }

        .sunflower-petal-ring {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .sf-petal {
            position: absolute;
            width: 26%;
            height: 36%;
            border-radius: 50% 50% 30% 30%;
            left: 37%;
            top: 0;
            transform-origin: 50% 140%;
        }

        .sf-petal:nth-child(1)  { transform: rotate(0deg); }
        .sf-petal:nth-child(2)  { transform: rotate(30deg); }
        .sf-petal:nth-child(3)  { transform: rotate(60deg); }
        .sf-petal:nth-child(4)  { transform: rotate(90deg); }
        .sf-petal:nth-child(5)  { transform: rotate(120deg); }
        .sf-petal:nth-child(6)  { transform: rotate(150deg); }
        .sf-petal:nth-child(7)  { transform: rotate(180deg); }
        .sf-petal:nth-child(8)  { transform: rotate(210deg); }
        .sf-petal:nth-child(9)  { transform: rotate(240deg); }
        .sf-petal:nth-child(10) { transform: rotate(270deg); }
        .sf-petal:nth-child(11) { transform: rotate(300deg); }
        .sf-petal:nth-child(12) { transform: rotate(330deg); }

        .sun-warm .sf-petal { background: #f5dfa0; }
        .sun-warm .sf-petal:nth-child(odd) { background: #f0d68a; }
        .sun-warm .sf-center { background: radial-gradient(circle, #c4a265, #b8945a); }

        .sun-peach .sf-petal { background: #f5d8b0; }
        .sun-peach .sf-petal:nth-child(odd) { background: #f0cc98; }
        .sun-peach .sf-center { background: radial-gradient(circle, #c49a60, #b08850); }

        .sf-center {
            position: absolute;
            width: 38%;
            height: 38%;
            border-radius: 50%;
            top: 31%;
            left: 31%;
        }

        /* ── Flower sizes ── */
        .sz-lg .rose-head, .sz-lg .carnation-head { width: clamp(44px, 11vw, 62px); height: clamp(44px, 11vw, 62px); }
        .sz-lg .sunflower-head { width: clamp(48px, 12vw, 66px); height: clamp(48px, 12vw, 66px); }

        .sz-md .rose-head, .sz-md .carnation-head { width: clamp(36px, 9vw, 50px); height: clamp(36px, 9vw, 50px); }
        .sz-md .sunflower-head { width: clamp(40px, 10vw, 54px); height: clamp(40px, 10vw, 54px); }

        .sz-sm .rose-head, .sz-sm .carnation-head { width: clamp(28px, 7vw, 40px); height: clamp(28px, 7vw, 40px); }
        .sz-sm .sunflower-head { width: clamp(32px, 8vw, 44px); height: clamp(32px, 8vw, 44px); }

        .sz-xs .rose-head, .sz-xs .carnation-head { width: clamp(22px, 5.5vw, 32px); height: clamp(22px, 5.5vw, 32px); }
        .sz-xs .sunflower-head { width: clamp(26px, 6.5vw, 36px); height: clamp(26px, 6.5vw, 36px); }

        /* ── Flower position classes ── */
        /* Row 1: Top / tallest - center flowers */
        .f-center      { left: 50%; transform: translateX(-50%); z-index: 10; }
        .f-center .stem { height: clamp(180px, 40vw, 260px); }

        .f-left-1      { left: 50%; transform: translateX(-50%) rotate(-14deg); z-index: 9; }
        .f-left-1 .stem { height: clamp(170px, 38vw, 245px); }

        .f-right-1     { left: 50%; transform: translateX(-50%) rotate(12deg); z-index: 9; }
        .f-right-1 .stem { height: clamp(165px, 37vw, 240px); }

        /* Row 2: Medium height */
        .f-left-2      { left: 50%; transform: translateX(-50%) rotate(-24deg); z-index: 8; }
        .f-left-2 .stem { height: clamp(150px, 34vw, 220px); }

        .f-right-2     { left: 50%; transform: translateX(-50%) rotate(22deg); z-index: 8; }
        .f-right-2 .stem { height: clamp(145px, 33vw, 215px); }

        .f-left-1b     { left: 50%; transform: translateX(-50%) rotate(-8deg); z-index: 7; }
        .f-left-1b .stem { height: clamp(155px, 35vw, 225px); }

        .f-right-1b    { left: 50%; transform: translateX(-50%) rotate(6deg); z-index: 7; }
        .f-right-1b .stem { height: clamp(150px, 34vw, 220px); }

        /* Row 3: Shorter / outer */
        .f-left-3      { left: 50%; transform: translateX(-50%) rotate(-34deg); z-index: 6; }
        .f-left-3 .stem { height: clamp(125px, 28vw, 185px); }

        .f-right-3     { left: 50%; transform: translateX(-50%) rotate(32deg); z-index: 6; }
        .f-right-3 .stem { height: clamp(120px, 27vw, 180px); }

        .f-left-4      { left: 50%; transform: translateX(-50%) rotate(-42deg); z-index: 5; }
        .f-left-4 .stem { height: clamp(105px, 24vw, 160px); }

        .f-right-4     { left: 50%; transform: translateX(-50%) rotate(40deg); z-index: 5; }
        .f-right-4 .stem { height: clamp(100px, 23vw, 155px); }

        /* Row 4: Shortest / edges */
        .f-left-5      { left: 50%; transform: translateX(-50%) rotate(-50deg); z-index: 4; }
        .f-left-5 .stem { height: clamp(85px, 20vw, 135px); }

        .f-right-5     { left: 50%; transform: translateX(-50%) rotate(48deg); z-index: 4; }
        .f-right-5 .stem { height: clamp(80px, 19vw, 130px); }

        /* ── Animation delays via data attributes ── */
        .delay-1  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 0.2s forwards; }
        .delay-2  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 0.4s forwards; }
        .delay-3  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 0.6s forwards; }
        .delay-4  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 0.8s forwards; }
        .delay-5  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.0s forwards; }
        .delay-6  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.2s forwards; }
        .delay-7  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.4s forwards; }
        .delay-8  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.5s forwards; }
        .delay-9  .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.6s forwards; }
        .delay-10 .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.7s forwards; }
        .delay-11 .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.8s forwards; }
        .delay-12 .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 1.9s forwards; }
        .delay-13 .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 2.0s forwards; }
        .delay-14 .stem { animation: stemGrow 1.1s cubic-bezier(0.34,1.56,0.64,1) 2.1s forwards; }

        .delay-1  .rose-head, .delay-1  .carnation-head, .delay-1  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 1.3s forwards; }
        .delay-2  .rose-head, .delay-2  .carnation-head, .delay-2  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 1.5s forwards; }
        .delay-3  .rose-head, .delay-3  .carnation-head, .delay-3  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 1.7s forwards; }
        .delay-4  .rose-head, .delay-4  .carnation-head, .delay-4  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 1.9s forwards; }
        .delay-5  .rose-head, .delay-5  .carnation-head, .delay-5  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.1s forwards; }
        .delay-6  .rose-head, .delay-6  .carnation-head, .delay-6  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.3s forwards; }
        .delay-7  .rose-head, .delay-7  .carnation-head, .delay-7  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.5s forwards; }
        .delay-8  .rose-head, .delay-8  .carnation-head, .delay-8  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.6s forwards; }
        .delay-9  .rose-head, .delay-9  .carnation-head, .delay-9  .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.7s forwards; }
        .delay-10 .rose-head, .delay-10 .carnation-head, .delay-10 .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.8s forwards; }
        .delay-11 .rose-head, .delay-11 .carnation-head, .delay-11 .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 2.9s forwards; }
        .delay-12 .rose-head, .delay-12 .carnation-head, .delay-12 .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 3.0s forwards; }
        .delay-13 .rose-head, .delay-13 .carnation-head, .delay-13 .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 3.1s forwards; }
        .delay-14 .rose-head, .delay-14 .carnation-head, .delay-14 .sunflower-head { animation: bloomFlower 0.9s cubic-bezier(0.34,1.56,0.64,1) 3.2s forwards; }

        .delay-1  .leaf { animation: leafAppear 0.5s ease-out 0.9s forwards; }
        .delay-2  .leaf { animation: leafAppear 0.5s ease-out 1.1s forwards; }
        .delay-3  .leaf { animation: leafAppear 0.5s ease-out 1.3s forwards; }
        .delay-4  .leaf { animation: leafAppear 0.5s ease-out 1.5s forwards; }
        .delay-5  .leaf { animation: leafAppear 0.5s ease-out 1.7s forwards; }
        .delay-6  .leaf { animation: leafAppear 0.5s ease-out 1.9s forwards; }
        .delay-7  .leaf { animation: leafAppear 0.5s ease-out 2.1s forwards; }
        .delay-8  .leaf { animation: leafAppear 0.5s ease-out 2.2s forwards; }
        .delay-9  .leaf { animation: leafAppear 0.5s ease-out 2.3s forwards; }
        .delay-10 .leaf { animation: leafAppear 0.5s ease-out 2.4s forwards; }
        .delay-11 .leaf { animation: leafAppear 0.5s ease-out 2.5s forwards; }
        .delay-12 .leaf { animation: leafAppear 0.5s ease-out 2.6s forwards; }
        .delay-13 .leaf { animation: leafAppear 0.5s ease-out 2.7s forwards; }
        .delay-14 .leaf { animation: leafAppear 0.5s ease-out 2.8s forwards; }

        /* ── Filler greenery ── */
        .filler {
            position: absolute;
            bottom: clamp(52px, 12vw, 82px);
            left: 50%;
            transform-origin: bottom center;
            z-index: 3;
        }

        .filler-stem {
            width: clamp(3px, 0.6vw, 4px);
            background: linear-gradient(to top, #b5ddb0, #92cc8a);
            border-radius: 2px;
            transform-origin: bottom center;
            transform: scaleY(0);
            position: relative;
        }

        .filler-tip {
            position: absolute;
            top: -8px;
            left: -7px;
            width: 17px;
            height: 12px;
            background: #a0d098;
            border-radius: 50% 50% 20% 50%;
            opacity: 0;
        }

        .filler-dot {
            position: absolute;
            top: -4px;
            left: -3px;
            width: 9px;
            height: 9px;
            background: #e8dff0;
            border-radius: 50%;
            opacity: 0;
        }

        .fl-1  { transform: translateX(-50%) rotate(-48deg); }
        .fl-2  { transform: translateX(-50%) rotate(46deg); }
        .fl-3  { transform: translateX(-50%) rotate(-58deg); }
        .fl-4  { transform: translateX(-50%) rotate(56deg); }
        .fl-5  { transform: translateX(-50%) rotate(-38deg); }
        .fl-6  { transform: translateX(-50%) rotate(36deg); }
        .fl-7  { transform: translateX(-50%) rotate(-20deg); }
        .fl-8  { transform: translateX(-50%) rotate(18deg); }
        .fl-9  { transform: translateX(-50%) rotate(-65deg); }
        .fl-10 { transform: translateX(-50%) rotate(63deg); }

        .fl-1 .filler-stem  { height: clamp(75px, 17vw, 115px);  animation: stemGrow 0.8s ease-out 3.0s forwards; }
        .fl-2 .filler-stem  { height: clamp(70px, 16vw, 110px);  animation: stemGrow 0.8s ease-out 3.1s forwards; }
        .fl-3 .filler-stem  { height: clamp(55px, 13vw, 90px);   animation: stemGrow 0.8s ease-out 3.2s forwards; }
        .fl-4 .filler-stem  { height: clamp(58px, 13vw, 92px);   animation: stemGrow 0.8s ease-out 3.3s forwards; }
        .fl-5 .filler-stem  { height: clamp(90px, 20vw, 135px);  animation: stemGrow 0.8s ease-out 3.15s forwards; }
        .fl-6 .filler-stem  { height: clamp(85px, 19vw, 130px);  animation: stemGrow 0.8s ease-out 3.25s forwards; }
        .fl-7 .filler-stem  { height: clamp(100px, 22vw, 148px); animation: stemGrow 0.8s ease-out 3.05s forwards; }
        .fl-8 .filler-stem  { height: clamp(95px, 21vw, 142px);  animation: stemGrow 0.8s ease-out 3.18s forwards; }
        .fl-9 .filler-stem  { height: clamp(45px, 10vw, 72px);   animation: stemGrow 0.8s ease-out 3.35s forwards; }
        .fl-10 .filler-stem { height: clamp(48px, 11vw, 75px);   animation: stemGrow 0.8s ease-out 3.4s forwards; }

        .fl-1  .filler-tip, .fl-1  .filler-dot { animation: leafAppear 0.4s ease-out 3.6s forwards; }
        .fl-2  .filler-tip, .fl-2  .filler-dot { animation: leafAppear 0.4s ease-out 3.7s forwards; }
        .fl-3  .filler-tip, .fl-3  .filler-dot { animation: leafAppear 0.4s ease-out 3.8s forwards; }
        .fl-4  .filler-tip, .fl-4  .filler-dot { animation: leafAppear 0.4s ease-out 3.9s forwards; }
        .fl-5  .filler-tip, .fl-5  .filler-dot { animation: leafAppear 0.4s ease-out 3.7s forwards; }
        .fl-6  .filler-tip, .fl-6  .filler-dot { animation: leafAppear 0.4s ease-out 3.8s forwards; }
        .fl-7  .filler-tip, .fl-7  .filler-dot { animation: leafAppear 0.4s ease-out 3.65s forwards; }
        .fl-8  .filler-tip, .fl-8  .filler-dot { animation: leafAppear 0.4s ease-out 3.75s forwards; }
        .fl-9  .filler-tip, .fl-9  .filler-dot { animation: leafAppear 0.4s ease-out 3.95s forwards; }
        .fl-10 .filler-tip, .fl-10 .filler-dot { animation: leafAppear 0.4s ease-out 4.0s forwards; }

        /* ── Text message ── */
        .message {
            text-align: center;
            padding: clamp(20px, 5vw, 40px) clamp(16px, 4vw, 32px);
            opacity: 0;
            transform: translateY(24px);
            animation: textReveal 1.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) 5.2s forwards;
        }

        .message h1 {
            font-size: clamp(22px, 5.8vw, 34px);
            font-weight: 600;
            letter-spacing: -0.02em;
            line-height: 1.35;
            background: linear-gradient(135deg, #d4849a, #c078a0, #b87a8e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .message p {
            font-size: clamp(14px, 3.5vw, 19px);
            font-weight: 400;
            color: #b0a0a8;
            letter-spacing: 0.04em;
            line-height: 1.5;
        }

        .message .poem {
            margin-top: clamp(12px, 3vw, 20px);
            font-size: clamp(13px, 3.2vw, 17px);
            font-weight: 300;
            font-style: italic;
            color: #c0a0aa;
            line-height: 1.7;
            letter-spacing: 0.01em;
            opacity: 0;
            transform: translateY(16px);
            animation: textReveal 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 6.4s forwards;
        }

        /* ── Floating hearts ── */
        .floating-heart {
            position: fixed;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            animation: floatHeart 7s ease-in-out forwards;
        }

        /* ── Soft petals falling ── */
        .falling-petal {
            position: fixed;
            width: 8px;
            height: 10px;
            border-radius: 50% 0 50% 50%;
            opacity: 0;
            pointer-events: none;
            animation: petalFall 8s ease-in-out forwards;
        }

        /* ── Keyframes ── */
        @keyframes stemGrow {
            0%   { transform: scaleY(0); }
            100% { transform: scaleY(1); }
        }

        @keyframes bloomFlower {
            0%   { transform: scale(0) rotate(0deg); }
            50%  { transform: scale(1.12) rotate(3deg); }
            75%  { transform: scale(0.95) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        @keyframes leafAppear {
            0%   { opacity: 0; transform: scale(0.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes vaseAppear {
            0%   { opacity: 0; transform: translateX(-50%) translateY(10px) scale(0.9); }
            50%  { opacity: 1; transform: translateX(-50%) translateY(-3px) scale(1.02); }
            100% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
        }

        @keyframes textReveal {
            0%   { opacity: 0; transform: translateY(24px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes floatHeart {
            0%   { opacity: 0; transform: translateY(0) scale(0.5) rotate(0deg); }
            12%  { opacity: 0.5; }
            80%  { opacity: 0.2; }
            100% { opacity: 0; transform: translateY(-100vh) scale(1) rotate(20deg); }
        }

        @keyframes petalFall {
            0%   { opacity: 0; transform: translateY(0) rotate(0deg) translateX(0); }
            10%  { opacity: 0.5; }
            50%  { transform: translateY(50vh) rotate(180deg) translateX(30px); }
            80%  { opacity: 0.25; }
            100% { opacity: 0; transform: translateY(105vh) rotate(360deg) translateX(-20px); }
        }

        /* ── Gentle idle sway ── */
        .bouquet-sway {
            animation: gentleSway 5s ease-in-out 6s infinite;
        }

        @keyframes gentleSway {
            0%, 100% { transform: rotate(0deg); }
            30%  { transform: rotate(0.6deg); }
            70%  { transform: rotate(-0.6deg); }
        }

        /* ── Touch interactions ── */
        .rose-head, .carnation-head, .sunflower-head {
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        /* Rose: wiggle + petals spread outward */
        .rose-head.touched {
            animation: roseWiggle 0.7s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
        }
        .rose-head.touched .rose-petal:nth-child(1) { animation: petalSpread1 0.7s ease-out both; }
        .rose-head.touched .rose-petal:nth-child(2) { animation: petalSpread2 0.7s ease-out 0.05s both; }
        .rose-head.touched .rose-petal:nth-child(3) { animation: petalSpread3 0.7s ease-out 0.05s both; }
        .rose-head.touched .rose-petal:nth-child(4) { animation: petalSpread4 0.7s ease-out 0.08s both; }
        .rose-head.touched .rose-petal:nth-child(5) { animation: petalPulse 0.6s ease-out 0.1s both; }
        .rose-head.touched .rose-petal:nth-child(6) { animation: petalFade 0.7s ease-out both; }

        @keyframes roseWiggle {
            0%   { transform: scale(1) rotate(0deg); }
            15%  { transform: scale(1.15) rotate(-6deg); }
            30%  { transform: scale(1.18) rotate(5deg); }
            45%  { transform: scale(1.12) rotate(-3deg); }
            65%  { transform: scale(1.06) rotate(2deg); }
            85%  { transform: scale(1.02) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        @keyframes petalSpread1 {
            0%   { transform: translate(0, 0); }
            40%  { transform: translate(-3px, -4px) rotate(-8deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        @keyframes petalSpread2 {
            0%   { transform: translate(0, 0); }
            40%  { transform: translate(-5px, 0) rotate(-12deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        @keyframes petalSpread3 {
            0%   { transform: translate(0, 0); }
            40%  { transform: translate(5px, 0) rotate(12deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        @keyframes petalSpread4 {
            0%   { transform: translate(0, 0); }
            40%  { transform: translate(0, 4px) rotate(6deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        @keyframes petalPulse {
            0%   { transform: scale(1); }
            40%  { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        @keyframes petalFade {
            0%   { opacity: 0.5; }
            40%  { opacity: 0.8; }
            100% { opacity: 0.5; }
        }

        /* Carnation: flutter / petals fan out */
        .carnation-head.touched {
            animation: carnFlutter 0.8s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
        }
        .carnation-head.touched .carnation-petal:nth-child(1) { animation: carnPetal1 0.8s ease-out both; }
        .carnation-head.touched .carnation-petal:nth-child(2) { animation: carnPetal2 0.8s ease-out both; }
        .carnation-head.touched .carnation-petal:nth-child(3) { animation: carnPetal3 0.8s ease-out both; }
        .carnation-head.touched .carnation-petal:nth-child(4) { animation: carnPetal4 0.8s ease-out both; }
        .carnation-head.touched .carnation-petal:nth-child(5) { animation: carnPetal5 0.8s ease-out both; }
        .carnation-head.touched .carnation-petal:nth-child(7) { animation: carnPetal7 0.8s ease-out both; }

        @keyframes carnFlutter {
            0%   { transform: scale(1); }
            20%  { transform: scale(1.2) rotate(4deg); }
            40%  { transform: scale(1.15) rotate(-3deg); }
            60%  { transform: scale(1.1) rotate(2deg); }
            80%  { transform: scale(1.04) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        @keyframes carnPetal1 {
            0%, 100% { transform: translateY(0); }
            35% { transform: translateY(-6px) rotate(-5deg); }
        }
        @keyframes carnPetal2 {
            0%, 100% { transform: rotate(-15deg); }
            35% { transform: rotate(-30deg) translateX(-4px); }
        }
        @keyframes carnPetal3 {
            0%, 100% { transform: rotate(15deg); }
            35% { transform: rotate(30deg) translateX(4px); }
        }
        @keyframes carnPetal4 {
            0%, 100% { transform: rotate(-28deg); }
            30% { transform: rotate(-42deg) translateX(-3px); }
        }
        @keyframes carnPetal5 {
            0%, 100% { transform: rotate(28deg); }
            30% { transform: rotate(42deg) translateX(3px); }
        }
        @keyframes carnPetal7 {
            0%, 100% { transform: translateY(0) scale(1); }
            40% { transform: translateY(-5px) scale(1.1); }
        }

        /* Sunflower: petals spin ring + center pulse */
        .sunflower-head.touched {
            animation: sunBounce 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) both;
        }
        .sunflower-head.touched .sunflower-petal-ring {
            animation: sunSpin 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }
        .sunflower-head.touched .sf-center {
            animation: sunCenterPop 0.6s ease-out 0.1s both;
        }

        @keyframes sunBounce {
            0%   { transform: scale(1); }
            25%  { transform: scale(1.18); }
            50%  { transform: scale(0.94); }
            75%  { transform: scale(1.06); }
            100% { transform: scale(1); }
        }
        @keyframes sunSpin {
            0%   { transform: rotate(0deg); }
            50%  { transform: rotate(60deg); }
            100% { transform: rotate(0deg); }
        }
        @keyframes sunCenterPop {
            0%   { transform: scale(1); }
            40%  { transform: scale(1.35); }
            70%  { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        /* Emit mini petals on touch */
        .touch-particle {
            position: absolute;
            width: 6px;
            height: 7px;
            border-radius: 50% 0 50% 50%;
            pointer-events: none;
            z-index: 100;
            animation: touchParticleFly 0.8s ease-out forwards;
        }

        @keyframes touchParticleFly {
            0%   { opacity: 0.9; transform: translate(0, 0) scale(1) rotate(0deg); }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.3) rotate(180deg); }
        }
    </style>
</head>
<body>
    <div class="scene">
        <div class="bouquet" id="bouquet">

            <!-- ══ Filler greenery (10 stems) ══ -->
            <div class="filler fl-1"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-2"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-3"><div class="filler-stem"><div class="filler-dot"></div></div></div>
            <div class="filler fl-4"><div class="filler-stem"><div class="filler-dot"></div></div></div>
            <div class="filler fl-5"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-6"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-7"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-8"><div class="filler-stem"><div class="filler-tip"></div></div></div>
            <div class="filler fl-9"><div class="filler-stem"><div class="filler-dot"></div></div></div>
            <div class="filler fl-10"><div class="filler-stem"><div class="filler-dot"></div></div></div>

            <!-- ══ Flower 1: Center Rose (large, hero) ══ -->
            <div class="flower f-center sz-lg delay-1">
                <div class="rose-head rose-pink">
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:50%"></div>
                    <div class="leaf leaf-right" style="top:65%"></div>
                </div>
            </div>

            <!-- ══ Flower 2: Left Carnation (large) ══ -->
            <div class="flower f-left-1 sz-lg delay-3">
                <div class="carnation-head carn-lavender">
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:52%"></div>
                    <div class="leaf leaf-right" style="top:70%"></div>
                </div>
            </div>

            <!-- ══ Flower 3: Right Sunflower (large) ══ -->
            <div class="flower f-right-1 sz-lg delay-2">
                <div class="sunflower-head sun-warm">
                    <div class="sunflower-petal-ring">
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                    </div>
                    <div class="sf-center"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:48%"></div>
                    <div class="leaf leaf-right" style="top:68%"></div>
                </div>
            </div>

            <!-- ══ Flower 4: Inner-left Rose (med) ══ -->
            <div class="flower f-left-1b sz-md delay-4">
                <div class="rose-head rose-coral">
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-right" style="top:55%"></div>
                </div>
            </div>

            <!-- ══ Flower 5: Inner-right Carnation (med) ══ -->
            <div class="flower f-right-1b sz-md delay-5">
                <div class="carnation-head carn-pink">
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:58%"></div>
                </div>
            </div>

            <!-- ══ Flower 6: Left-2 Sunflower (med) ══ -->
            <div class="flower f-left-2 sz-md delay-6">
                <div class="sunflower-head sun-peach">
                    <div class="sunflower-petal-ring">
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                    </div>
                    <div class="sf-center"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:50%"></div>
                </div>
            </div>

            <!-- ══ Flower 7: Right-2 Rose (med) ══ -->
            <div class="flower f-right-2 sz-md delay-7">
                <div class="rose-head rose-blush">
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-right" style="top:52%"></div>
                </div>
            </div>

            <!-- ══ Flower 8: Left-3 Carnation (sm) ══ -->
            <div class="flower f-left-3 sz-sm delay-8">
                <div class="carnation-head carn-cream">
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:50%"></div>
                </div>
            </div>

            <!-- ══ Flower 9: Right-3 Carnation (sm) ══ -->
            <div class="flower f-right-3 sz-sm delay-9">
                <div class="carnation-head carn-lavender">
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-right" style="top:48%"></div>
                </div>
            </div>

            <!-- ══ Flower 10: Left-4 Rose (sm) ══ -->
            <div class="flower f-left-4 sz-sm delay-10">
                <div class="rose-head rose-pink">
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-right" style="top:50%"></div>
                </div>
            </div>

            <!-- ══ Flower 11: Right-4 Sunflower (sm) ══ -->
            <div class="flower f-right-4 sz-sm delay-11">
                <div class="sunflower-head sun-warm">
                    <div class="sunflower-petal-ring">
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                    </div>
                    <div class="sf-center"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:52%"></div>
                </div>
            </div>

            <!-- ══ Flower 12: Left-5 Sunflower (xs) ══ -->
            <div class="flower f-left-5 sz-xs delay-12">
                <div class="sunflower-head sun-peach">
                    <div class="sunflower-petal-ring">
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                        <div class="sf-petal"></div><div class="sf-petal"></div><div class="sf-petal"></div>
                    </div>
                    <div class="sf-center"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-left" style="top:48%"></div>
                </div>
            </div>

            <!-- ══ Flower 13: Right-5 Rose (xs) ══ -->
            <div class="flower f-right-5 sz-xs delay-13">
                <div class="rose-head rose-coral">
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                    <div class="rose-petal"></div><div class="rose-petal"></div><div class="rose-petal"></div>
                </div>
                <div class="stem">
                    <div class="leaf leaf-right" style="top:50%"></div>
                </div>
            </div>

            <!-- ══ Flower 14: Center-back Carnation (med, fills gap) ══ -->
            <div class="flower f-center sz-md delay-14" style="z-index:6;">
                <div class="carnation-head carn-cream" style="width:clamp(32px,8vw,46px); height:clamp(32px,8vw,46px);">
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div><div class="carnation-petal"></div><div class="carnation-petal"></div>
                    <div class="carnation-petal"></div>
                </div>
                <div class="stem" style="height:clamp(160px,36vw,235px);">
                    <div class="leaf leaf-left" style="top:60%"></div>
                </div>
            </div>

            <!-- ══ Vase / Bouquet wrap ══ -->
            <div class="vase">
                <svg class="vase-svg" viewBox="0 0 240 180" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <!-- Main paper gradient -->
                        <linearGradient id="paperMain" x1="60" y1="10" x2="190" y2="170" gradientUnits="userSpaceOnUse">
                            <stop offset="0%" stop-color="#f5ebe0"/>
                            <stop offset="40%" stop-color="#eeddd0"/>
                            <stop offset="100%" stop-color="#e2cebc"/>
                        </linearGradient>
                        <!-- Paper shadow side -->
                        <linearGradient id="paperShadow" x1="0" y1="0" x2="1" y2="0">
                            <stop offset="0%" stop-color="#d8c0aa"/>
                            <stop offset="100%" stop-color="#e8d5c4" stop-opacity="0"/>
                        </linearGradient>
                        <!-- Top tissue -->
                        <linearGradient id="tissueGrad" x1="0" y1="0" x2="0" y2="1">
                            <stop offset="0%" stop-color="#faf5f0" stop-opacity="0.9"/>
                            <stop offset="100%" stop-color="#f0e4d8" stop-opacity="0.4"/>
                        </linearGradient>
                        <!-- Ribbon gradient -->
                        <linearGradient id="ribbonGrad" x1="0" y1="0" x2="0" y2="1">
                            <stop offset="0%" stop-color="#f4bfc8"/>
                            <stop offset="50%" stop-color="#e8a0ae"/>
                            <stop offset="100%" stop-color="#f2b4be"/>
                        </linearGradient>
                    </defs>

                    <!-- Back tissue paper peeking out -->
                    <path d="M45 42 Q55 18, 80 12 Q100 8, 120 10 Q145 14, 160 22 Q178 30, 195 42 L188 52 Q120 38, 52 52 Z" fill="url(#tissueGrad)"/>
                    <path d="M38 46 Q48 24, 68 16 Q90 9, 120 12 Q152 16, 172 26 Q190 36, 202 46 L194 54 Q120 36, 46 54 Z" fill="url(#tissueGrad)" opacity="0.6"/>

                    <!-- Main paper wrap body (cone shape) -->
                    <path d="M42 50 Q44 44, 120 44 Q196 44, 198 50 L182 168 Q178 178, 120 178 Q62 178, 58 168 Z" fill="url(#paperMain)"/>

                    <!-- Left shadow fold -->
                    <path d="M42 50 L58 168 Q60 172, 68 174 L62 60 Q52 52, 42 50 Z" fill="url(#paperShadow)" opacity="0.35"/>

                    <!-- Paper fold creases -->
                    <path d="M78 54 Q82 110, 76 170" stroke="#d8c0ac" stroke-width="0.8" fill="none" opacity="0.3"/>
                    <path d="M162 54 Q158 110, 164 170" stroke="#d8c0ac" stroke-width="0.8" fill="none" opacity="0.25"/>
                    <path d="M120 48 Q120 110, 120 176" stroke="#d8c0ac" stroke-width="0.6" fill="none" opacity="0.15"/>

                    <!-- Top rim (folded edge) -->
                    <path d="M36 52 Q38 40, 120 40 Q202 40, 204 52 Q202 60, 120 60 Q38 60, 36 52 Z" fill="#dcc4b0"/>
                    <path d="M38 51 Q40 42, 120 42 Q200 42, 202 51 Q200 58, 120 58 Q40 58, 38 51 Z" fill="#e8d5c4"/>
                    <!-- Rim highlight -->
                    <path d="M50 48 Q120 43, 190 48" stroke="#f0e4d8" stroke-width="1" fill="none" opacity="0.6"/>

                    <!-- Ribbon wrapping around -->
                    <path d="M56 88 Q58 82, 120 80 Q182 82, 184 88 Q182 94, 120 96 Q58 94, 56 88 Z" fill="url(#ribbonGrad)"/>
                    <!-- Ribbon shine -->
                    <path d="M70 84 Q120 81, 170 84" stroke="#f8d0d8" stroke-width="1.2" fill="none" opacity="0.6"/>

                    <!-- Bow - left loop -->
                    <path d="M108 88 Q92 74, 84 62 Q80 56, 86 54 Q94 52, 100 62 Q106 72, 108 88 Z" fill="#f0b0bc"/>
                    <path d="M106 86 Q94 74, 88 64 Q86 60, 90 58 Q96 57, 100 64 Q104 72, 106 86 Z" fill="#f4bfc8" opacity="0.7"/>

                    <!-- Bow - right loop -->
                    <path d="M132 88 Q148 74, 156 62 Q160 56, 154 54 Q146 52, 140 62 Q134 72, 132 88 Z" fill="#f0b0bc"/>
                    <path d="M134 86 Q146 74, 152 64 Q154 60, 150 58 Q144 57, 140 64 Q136 72, 134 86 Z" fill="#f4bfc8" opacity="0.7"/>

                    <!-- Bow center knot -->
                    <ellipse cx="120" cy="87" rx="8" ry="6" fill="#e898a6"/>
                    <ellipse cx="120" cy="86" rx="6" ry="4" fill="#f0a8b4"/>

                    <!-- Ribbon tails -->
                    <path d="M112 92 Q104 108, 96 118 Q94 120, 96 118 Q100 112, 108 96 Z" fill="#edaab6" opacity="0.7"/>
                    <path d="M128 92 Q136 108, 144 118 Q146 120, 144 118 Q140 112, 132 96 Z" fill="#edaab6" opacity="0.7"/>

                    <!-- Subtle paper texture dots -->
                    <circle cx="90" cy="120" r="1" fill="#d4b8a0" opacity="0.2"/>
                    <circle cx="145" cy="105" r="0.8" fill="#d4b8a0" opacity="0.2"/>
                    <circle cx="110" cy="145" r="1" fill="#d4b8a0" opacity="0.15"/>
                    <circle cx="135" cy="140" r="0.8" fill="#d4b8a0" opacity="0.2"/>
                    <circle cx="100" cy="100" r="0.6" fill="#d4b8a0" opacity="0.15"/>
                </svg>
            </div>
        </div>

        <div class="message">
            <h1>Buon San Valentino,<br>amore della mia vita</h1>
            <p>Per sempre tua</p>
            <p class="poem">
                Sara, sei la mia stella,<br>
                la mia rosa, la pi&ugrave; bella.<br>
                Il mio cuore batte solo per te,<br>
                senza te, non esisto, non c'&egrave; un me.<br>
                Sei la mia vita, il mio destino,<br>
                il mio amore, il mio cammino.
            </p>
        </div>
    </div>

    <audio id="bgMusic" src="./sounds/la_vie_en_rose.mp3" preload="auto" loop></audio>

    <script>
        // ── Background music with fade-in ──
        const bgMusic = document.getElementById('bgMusic');
        let musicPlaying = false;

        function startMusic() {
            if (musicPlaying) return;
            bgMusic.volume = 0;
            const p = bgMusic.play();
            if (p) {
                p.then(() => {
                    musicPlaying = true;
                    let vol = 0;
                    const fadeIn = setInterval(() => {
                        vol += 0.02;
                        if (vol >= 0.6) {
                            vol = 0.6;
                            clearInterval(fadeIn);
                        }
                        bgMusic.volume = vol;
                    }, 50);
                }).catch(() => {});
            }
        }

        // Start music on any user gesture (required by mobile browsers)
        function onInteraction() {
            startMusic();
        }
        document.addEventListener('click', onInteraction, true);
        document.addEventListener('touchend', onInteraction, true);

        // Clean up listeners once music is confirmed playing
        bgMusic.addEventListener('playing', () => {
            document.removeEventListener('click', onInteraction, true);
            document.removeEventListener('touchend', onInteraction, true);
        }, { once: true });

        // Add sway class after animation completes
        setTimeout(() => {
            document.getElementById('bouquet').classList.add('bouquet-sway');
        }, 5800);

        // Floating hearts
        function spawnHearts() {
            const hearts = ['\u2665', '\u2661'];
            const colors = ['#f4b8c1', '#d4b8e0', '#f5dfa0', '#a8d5a2', '#f0c4bd'];
            setInterval(() => {
                const h = document.createElement('div');
                h.className = 'floating-heart';
                h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                h.style.left = Math.random() * 100 + 'vw';
                h.style.bottom = '-20px';
                h.style.color = colors[Math.floor(Math.random() * colors.length)];
                h.style.fontSize = (10 + Math.random() * 14) + 'px';
                h.style.animationDuration = (6 + Math.random() * 4) + 's';
                document.body.appendChild(h);
                h.addEventListener('animationend', () => h.remove());
            }, 2200);
        }

        // Falling petals
        function spawnPetals() {
            const colors = ['#f9d4db', '#e6d4ef', '#f5e6d8', '#fce0e5', '#f0cdd5'];
            setInterval(() => {
                const p = document.createElement('div');
                p.className = 'falling-petal';
                p.style.left = (10 + Math.random() * 80) + 'vw';
                p.style.top = '-12px';
                p.style.background = colors[Math.floor(Math.random() * colors.length)];
                p.style.width = (6 + Math.random() * 6) + 'px';
                p.style.height = (7 + Math.random() * 7) + 'px';
                p.style.animationDuration = (7 + Math.random() * 5) + 's';
                document.body.appendChild(p);
                p.addEventListener('animationend', () => p.remove());
            }, 3000);
        }

        setTimeout(spawnHearts, 6000);
        setTimeout(spawnPetals, 6500);

        // ── Flower touch interactions ──
        const particleColors = {
            rose:       ['#f4b8c1', '#f9d4db', '#f2a3b0', '#fce0e5'],
            carnation:  ['#d4b8e0', '#e6d4ef', '#f0c0cc', '#f5e6d8'],
            sunflower:  ['#f5dfa0', '#f0d68a', '#f5d8b0', '#f8e8c0']
        };

        function getFlowerType(head) {
            if (head.classList.contains('rose-head')) return 'rose';
            if (head.classList.contains('carnation-head')) return 'carnation';
            if (head.classList.contains('sunflower-head')) return 'sunflower';
            return 'rose';
        }

        function emitParticles(head, type) {
            const rect = head.getBoundingClientRect();
            const cx = rect.left + rect.width / 2;
            const cy = rect.top + rect.height / 2;
            const colors = particleColors[type];
            const count = 6;

            for (let i = 0; i < count; i++) {
                const p = document.createElement('div');
                p.className = 'touch-particle';
                const angle = (Math.PI * 2 / count) * i + (Math.random() - 0.5) * 0.5;
                const dist = 20 + Math.random() * 25;
                p.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
                p.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
                p.style.left = cx + 'px';
                p.style.top = cy + 'px';
                p.style.position = 'fixed';
                p.style.background = colors[Math.floor(Math.random() * colors.length)];
                p.style.width = (4 + Math.random() * 4) + 'px';
                p.style.height = (5 + Math.random() * 5) + 'px';
                document.body.appendChild(p);
                p.addEventListener('animationend', () => p.remove());
            }
        }

        function handleFlowerTouch(e) {
            // Don't preventDefault on touchstart — let it bubble for music
            if (e.type === 'click') e.preventDefault();

            const head = e.currentTarget;

            // Prevent re-trigger while animating
            if (head.classList.contains('touched')) return;

            const type = getFlowerType(head);

            // Haptic feedback
            if (navigator.vibrate) navigator.vibrate(30);

            // Start music if not playing yet
            startMusic();

            // Add animation class
            head.classList.add('touched');

            // Emit particles
            emitParticles(head, type);

            // Remove class when animation ends to allow re-triggering
            const onEnd = () => {
                head.classList.remove('touched');
                head.removeEventListener('animationend', onEnd);
            };
            head.addEventListener('animationend', onEnd);
        }

        // After bloom animations finish: bake final states as inline styles
        // then remove delay classes so touch animations don't conflict
        setTimeout(() => {
            document.querySelectorAll('.flower').forEach(flower => {
                // Bake stem: scaleY(1)
                const stem = flower.querySelector('.stem');
                if (stem) {
                    stem.style.transform = 'scaleY(1)';
                    stem.style.animation = 'none';
                }

                // Bake leaves: visible
                flower.querySelectorAll('.leaf').forEach(leaf => {
                    leaf.style.opacity = '1';
                    leaf.style.transform = leaf.classList.contains('leaf-left')
                        ? 'rotate(-30deg) scale(1)'
                        : 'rotate(30deg) scaleX(-1) scale(1)';
                    leaf.style.animation = 'none';
                });

                // Bake flower head: scale(1)
                const head = flower.querySelector('.rose-head, .carnation-head, .sunflower-head');
                if (head) {
                    head.style.transform = 'scale(1)';
                }

                // Remove delay class so bloom animation no longer competes
                flower.className = flower.className.replace(/\bdelay-\d+\b/g, '').trim();
            });

            // Also bake filler greenery
            document.querySelectorAll('.filler').forEach(filler => {
                const fs = filler.querySelector('.filler-stem');
                if (fs) { fs.style.transform = 'scaleY(1)'; fs.style.animation = 'none'; }
                const tip = filler.querySelector('.filler-tip');
                if (tip) { tip.style.opacity = '1'; tip.style.transform = 'scale(1)'; tip.style.animation = 'none'; }
                const dot = filler.querySelector('.filler-dot');
                if (dot) { dot.style.opacity = '1'; dot.style.transform = 'scale(1)'; dot.style.animation = 'none'; }
            });

            // Attach touch listeners to flower heads
            document.querySelectorAll('.rose-head, .carnation-head, .sunflower-head').forEach(head => {
                head.addEventListener('click', handleFlowerTouch);
                head.addEventListener('touchend', handleFlowerTouch, { passive: true });
            });
        }, 4200);
    </script>
</body>
</html>
